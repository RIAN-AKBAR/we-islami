<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jadwal sholat</title>
    <link rel="stylesheet" href="styles.css">
	<link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html">Doa Pendek</a></li>
                <li><a href="tahlil.html">Bacaan Zikir</a></li>
                <li><a href="hadis.html">Kumpulan Hadis</a></li>
		            <li><a href="jadwal sholat.html">jadwal sholat</a></li>
                <li><a href="rating.html">Comment</a></li>
                <li><a href="contact.html">Tentang Pembuat</a></li>

            </ul>
        </nav>
    </header>
    <body>
      <style>
        h1,h2,p,a{
		font-family: sans-serif;
		font-weight: normal;
	}
 
	.jam-digital-malasngoding {
		overflow: hidden;
		width: 330px;
		margin: 20px auto;
		border: 5px solid #efefef;
	}
	.kotak{
		float: left;
		width: 110px;
		height: 100px;
		background-color: #189fff;
	}
	.jam-digital-malasngoding p {
		color: #fff;
		font-size: 36px;
		text-align: center;
		margin-top: 30px;
	}
	      body {  
    font-family: sans-serif;  
    background-color: #f4f4f4;  
    margin: 0;  
    padding: 0;  
    display: flex;  
    justify-content: center;  
    align-items: center;  
    min-height: 100vh;  
}  

.container {  
    background-color: #fff;  
    border-radius: 8px;  
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);  
    padding: 20px;  
    width: 80%;  
    max-width: 600px;  
    text-align: center;  
}  

h1 {  
    color: #333;  
}  

#location, #date {  
    margin-bottom: 10px;  
    font-style: italic;  
    color: #777;  
}  

table {  
    width: 100%;  
    border-collapse: collapse;  
    margin-top: 20px;  
}  

th, td {  
    padding: 12px 15px;  
    text-align: left;  
    border-bottom: 1px solid #ddd;  
}  

th {  
    background-color: #f2f2f2;  
    font-weight: bold;  
}  

tbody tr:nth-child(even) {  
    background-color: #f9f9f9;  
}
    </style>
    <div class="jam-digital-malasngoding">
        <div class="kotak">
            <p id="jam"></p>
        </div>
        <div class="kotak">
            <p id="menit"></p>
        </div>
        <div class="kotak">
            <p id="detik"></p>
        </div>
    </div>
	    <div class="container">  
        <h1>Jadwal Sholat</h1>  
        <div id="location">Memuat Lokasi...</div>  
        <div id="date">Memuat Tanggal...</div>  
        <table id="prayer-times">  
            <thead>  
                <tr>  
                    <th>Sholat</th>  
                    <th>Waktu</th>  
                </tr>  
            </thead>  
            <tbody>  
                <tr>  
                    <td>Subuh</td>  
                    <td id="fajr"></td>  
                </tr>  
                <tr>  
                    <td>Dzuhur</td>  
                    <td id="dhuhr"></td>  
                </tr>  
                <tr>  
                    <td>Ashar</td>  
                    <td id="asr"></td>  
                </tr>  
                <tr>  
                    <td>Maghrib</td>  
                    <td id="maghrib"></td>  
                </tr>  
                <tr>  
                    <td>Isya</td>  
                    <td id="isha"></td>  
                </tr>  
            </tbody>  
        </table>  
    </div>  
    <script>
        window.setTimeout("waktu()", 1000);

        function waktu(){
            var waktu = new Date ()
            setTimeout("waktu()", 1000);
            document.getElementById("jam").innerHTML = waktu.getHours();
            document.getElementById("menit").innerHTML = waktu.getMinutes();
            document.getElementById("detik").innerHTML = waktu.getSeconds();

        }
	    document.addEventListener('DOMContentLoaded', function() {  
    function getLocation() {  
        if (navigator.geolocation) {  
            navigator.geolocation.getCurrentPosition(getPrayerTimes, locationError, {  
                enableHighAccuracy: true,  
                timeout: 5000,  
                maximumAge: 0  
            });  
        } else {  
            document.getElementById('location').innerText = "Geolocation tidak didukung oleh browser Anda.";  
        }  
    }  

    function getPrayerTimes(position) {  
        const latitude = position.coords.latitude;  
        const longitude = position.coords.longitude;  

        // Mendapatkan zona waktu pengguna  
        const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;  

        const apiUrl = `https://api.aladhan.com/v1/timingsByLatLon?latitude=${latitude}&longitude=${longitude}&method=2&timezone=${timezone}`;  

        fetch(apiUrl)  
            .then(response => response.json())  
            .then(data => {  
                if (data.code === 200) {  
                    const timings = data.data.timings;  
                    document.getElementById('location').innerText = `Latitude: ${latitude}, Longitude: ${longitude}, Zona Waktu: ${timezone}`;  
                    document.getElementById('date').innerText = `Tanggal: ${data.data.date.readable}`;  

                    document.getElementById('fajr').innerText = timings.Fajr;  
                    document.getElementById('dhuhr').innerText = timings.Dhuhr;  
                    document.getElementById('asr').innerText = timings.Asr;  
                    document.getElementById('maghrib').innerText = timings.Maghrib;  
                    document.getElementById('isha').innerText = timings.Isha;  
                } else {  
                    document.getElementById('prayer-times').innerHTML = "Gagal memuat jadwal sholat.";  
                }  
            })  
            .catch(error => {  
                console.error('Error:', error);  
                document.getElementById('prayer-times').innerHTML = "Terjadi kesalahan saat memuat jadwal sholat.";  
            });  
    }  

    function locationError(error) {  
        let message;  
        switch(error.code) {  
            case error.PERMISSION_DENIED:  
                message = "Izin akses lokasi ditolak.";  
                break;  
            case error.POSITION_UNAVAILABLE:  
                message = "Informasi lokasi tidak tersedia.";  
                break;
                case error.TIMEOUT:  
                message = "Waktu permintaan lokasi habis.";  
                break;  
            case error.UNKNOWN_ERROR:  
                message = "Terjadi kesalahan yang tidak diketahui.";  
                break;  
        }  
        document.getElementById('location').innerText = "Error: " + message;  
    }  

    getLocation();  
});
    </script>
    </body>
</html>
